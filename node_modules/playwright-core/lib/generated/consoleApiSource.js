"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.source = void 0;
const source = "var pwExport;(()=>{\"use strict\";var e={317:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.InvalidSelectorError=void 0,t.isInvalidSelectorError=function(e){return e instanceof i},t.parseCSS=function(e,t){let r;try{r=n.tokenize(e),r[r.length-1]instanceof n.EOFToken||r.push(new n.EOFToken)}catch(t){const r=t.message+` while parsing selector \"${e}\"`,n=(t.stack||\"\").indexOf(t.message);throw-1!==n&&(t.stack=t.stack.substring(0,n)+r+t.stack.substring(n+t.message.length)),t.message=r,t}const o=r.find((e=>e instanceof n.AtKeywordToken||e instanceof n.BadStringToken||e instanceof n.BadURLToken||e instanceof n.ColumnToken||e instanceof n.CDOToken||e instanceof n.CDCToken||e instanceof n.SemicolonToken||e instanceof n.OpenCurlyToken||e instanceof n.CloseCurlyToken||e instanceof n.URLToken||e instanceof n.PercentageToken));if(o)throw new i(`Unsupported token \"${o.toSource()}\" while parsing selector \"${e}\"`);let s=0;const c=new Set;function a(){return new i(`Unexpected token \"${r[s].toSource()}\" while parsing selector \"${e}\"`)}function u(){for(;r[s]instanceof n.WhitespaceToken;)s++}function l(e=s){return r[e]instanceof n.IdentToken}function p(e=s){return r[e]instanceof n.CommaToken}function h(e=s){return r[e]instanceof n.CloseParenToken}function f(e=s){return r[e]instanceof n.DelimToken&&\"*\"===r[e].value}function y(e=s){return r[e]instanceof n.EOFToken}function m(e=s){return r[e]instanceof n.DelimToken&&[\">\",\"+\",\"~\"].includes(r[e].value)}function g(e=s){return p(e)||h(e)||y(e)||m(e)||r[e]instanceof n.WhitespaceToken}function d(){const e=[w()];for(;u(),p();)s++,e.push(w());return e}function w(){return u(),function(e=s){return r[e]instanceof n.NumberToken}()||function(e=s){return r[e]instanceof n.StringToken}()?r[s++].value:function(){const e={simples:[]};for(u(),m()?e.simples.push({selector:{functions:[{name:\"scope\",args:[]}]},combinator:\"\"}):e.simples.push({selector:S(),combinator:\"\"});;){if(u(),m())e.simples[e.simples.length-1].combinator=r[s++].value,u();else if(g())break;e.simples.push({combinator:\"\",selector:S()})}return e}()}function S(){let e=\"\";const o=[];for(;!g();)if(l()||f())e+=r[s++].toSource();else if(r[s]instanceof n.HashToken)e+=r[s++].toSource();else if(r[s]instanceof n.DelimToken&&\".\"===r[s].value){if(s++,!l())throw a();e+=\".\"+r[s++].toSource()}else if(r[s]instanceof n.ColonToken)if(s++,l())if(t.has(r[s].value.toLowerCase())){const e=r[s++].value.toLowerCase();o.push({name:e,args:[]}),c.add(e)}else e+=\":\"+r[s++].toSource();else{if(!(r[s]instanceof n.FunctionToken))throw a();{const n=r[s++].value.toLowerCase();if(t.has(n)?(o.push({name:n,args:d()}),c.add(n)):e+=`:${n}(${v()})`,u(),!h())throw a();s++}}else{if(!(r[s]instanceof n.OpenSquareToken))throw a();for(e+=\"[\",s++;!(r[s]instanceof n.CloseSquareToken||y());)e+=r[s++].toSource();if(!(r[s]instanceof n.CloseSquareToken))throw a();e+=\"]\",s++}if(!e&&!o.length)throw a();return{css:e||void 0,functions:o}}function v(){let e=\"\";for(;!h()&&!y();)e+=r[s++].toSource();return e}const b=d();if(!y())throw new i(`Error while parsing selector \"${e}\"`);if(b.some((e=>\"object\"!=typeof e||!(\"simples\"in e))))throw new i(`Error while parsing selector \"${e}\"`);return{selector:b,names:Array.from(c)}},t.serializeSelector=function e(t){return t.map((t=>\"string\"==typeof t?`\"${t}\"`:\"number\"==typeof t?String(t):t.simples.map((({selector:t,combinator:r})=>{let n=t.css||\"\";return n+=t.functions.map((t=>`:${t.name}(${e(t.args)})`)).join(\"\"),r&&(n+=\" \"+r),n})).join(\" \"))).join(\", \")};var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(\"default\"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var c=i?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(n,s,c):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(503));function o(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}class i extends Error{}t.InvalidSelectorError=i},503:(e,t)=>{var r,n;r=function(e){var t=function(e,t,r){return e>=t&&e<=r};function r(e){return t(e,48,57)}function n(e){return r(e)||t(e,65,70)||t(e,97,102)}function o(e){return function(e){return t(e,65,90)}(e)||function(e){return t(e,97,122)}(e)}function i(e){return o(e)||function(e){return e>=128}(e)||95==e}function s(e){return i(e)||r(e)||45==e}function c(e){return t(e,0,8)||11==e||t(e,14,31)||127==e}function a(e){return 10==e}function u(e){return a(e)||9==e||32==e}var l=function(e){this.message=e};function p(e){if(e<=65535)return String.fromCharCode(e);e-=Math.pow(2,16);var t=Math.floor(e/Math.pow(2,10))+55296,r=e%Math.pow(2,10)+56320;return String.fromCharCode(t)+String.fromCharCode(r)}function h(){throw\"Abstract Base Class\"}function f(){return this}function y(){return this}function m(){return this}function g(){return this}function d(){return this}function w(){return this}function S(){return this}function v(){return this}function b(){throw\"Abstract Base Class\"}function T(){return this.value=\"{\",this.mirror=\"}\",this}function _(){return this.value=\"}\",this.mirror=\"{\",this}function E(){return this.value=\"[\",this.mirror=\"]\",this}function k(){return this.value=\"]\",this.mirror=\"[\",this}function C(){return this.value=\"(\",this.mirror=\")\",this}function O(){return this.value=\")\",this.mirror=\"(\",this}function M(){return this}function x(){return this}function N(){return this}function A(){return this}function j(){return this}function $(){return this}function I(){return this}function q(e){return this.value=p(e),this}function P(){throw\"Abstract Base Class\"}function R(e){this.value=e}function D(e){this.value=e,this.mirror=\")\"}function L(e){this.value=e}function U(e){this.value=e,this.type=\"unrestricted\"}function B(e){this.value=e}function Q(e){this.value=e}function J(){this.value=null,this.type=\"integer\",this.repr=\"\"}function F(){this.value=null,this.repr=\"\"}function W(){this.value=null,this.type=\"integer\",this.repr=\"\",this.unit=\"\"}function z(e){for(var r=\"\",n=(e=\"\"+e).charCodeAt(0),o=0;o<e.length;o++){var i=e.charCodeAt(o);if(0==i)throw new l(\"Invalid character: the input contains U+0000.\");t(i,1,31)||127==i||0==o&&t(i,48,57)||1==o&&t(i,48,57)&&45==n?r+=\"\\\\\"+i.toString(16)+\" \":i>=128||45==i||95==i||t(i,48,57)||t(i,65,90)||t(i,97,122)?r+=e[o]:r+=\"\\\\\"+e[o]}return r}function G(e){e=\"\"+e;for(var r=\"\",n=0;n<e.length;n++){var o=e.charCodeAt(n);if(0==o)throw new l(\"Invalid character: the input contains U+0000.\");t(o,1,31)||127==o?r+=\"\\\\\"+o.toString(16)+\" \":r+=34==o||92==o?\"\\\\\"+e[n]:e[n]}return r}(l.prototype=new Error).name=\"InvalidCharacterError\",h.prototype.toJSON=function(){return{token:this.tokenType}},h.prototype.toString=function(){return this.tokenType},h.prototype.toSource=function(){return\"\"+this},f.prototype=Object.create(h.prototype),f.prototype.tokenType=\"BADSTRING\",y.prototype=Object.create(h.prototype),y.prototype.tokenType=\"BADURL\",m.prototype=Object.create(h.prototype),m.prototype.tokenType=\"WHITESPACE\",m.prototype.toString=function(){return\"WS\"},m.prototype.toSource=function(){return\" \"},g.prototype=Object.create(h.prototype),g.prototype.tokenType=\"CDO\",g.prototype.toSource=function(){return\"\\x3c!--\"},d.prototype=Object.create(h.prototype),d.prototype.tokenType=\"CDC\",d.prototype.toSource=function(){return\"--\\x3e\"},w.prototype=Object.create(h.prototype),w.prototype.tokenType=\":\",S.prototype=Object.create(h.prototype),S.prototype.tokenType=\";\",v.prototype=Object.create(h.prototype),v.prototype.tokenType=\",\",b.prototype=Object.create(h.prototype),T.prototype=Object.create(b.prototype),T.prototype.tokenType=\"{\",_.prototype=Object.create(b.prototype),_.prototype.tokenType=\"}\",E.prototype=Object.create(b.prototype),E.prototype.tokenType=\"[\",k.prototype=Object.create(b.prototype),k.prototype.tokenType=\"]\",C.prototype=Object.create(b.prototype),C.prototype.tokenType=\"(\",O.prototype=Object.create(b.prototype),O.prototype.tokenType=\")\",M.prototype=Object.create(h.prototype),M.prototype.tokenType=\"~=\",x.prototype=Object.create(h.prototype),x.prototype.tokenType=\"|=\",N.prototype=Object.create(h.prototype),N.prototype.tokenType=\"^=\",A.prototype=Object.create(h.prototype),A.prototype.tokenType=\"$=\",j.prototype=Object.create(h.prototype),j.prototype.tokenType=\"*=\",$.prototype=Object.create(h.prototype),$.prototype.tokenType=\"||\",I.prototype=Object.create(h.prototype),I.prototype.tokenType=\"EOF\",I.prototype.toSource=function(){return\"\"},q.prototype=Object.create(h.prototype),q.prototype.tokenType=\"DELIM\",q.prototype.toString=function(){return\"DELIM(\"+this.value+\")\"},q.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e},q.prototype.toSource=function(){return\"\\\\\"==this.value?\"\\\\\\n\":this.value},P.prototype=Object.create(h.prototype),P.prototype.ASCIIMatch=function(e){return this.value.toLowerCase()==e.toLowerCase()},P.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e},R.prototype=Object.create(P.prototype),R.prototype.tokenType=\"IDENT\",R.prototype.toString=function(){return\"IDENT(\"+this.value+\")\"},R.prototype.toSource=function(){return z(this.value)},D.prototype=Object.create(P.prototype),D.prototype.tokenType=\"FUNCTION\",D.prototype.toString=function(){return\"FUNCTION(\"+this.value+\")\"},D.prototype.toSource=function(){return z(this.value)+\"(\"},L.prototype=Object.create(P.prototype),L.prototype.tokenType=\"AT-KEYWORD\",L.prototype.toString=function(){return\"AT(\"+this.value+\")\"},L.prototype.toSource=function(){return\"@\"+z(this.value)},U.prototype=Object.create(P.prototype),U.prototype.tokenType=\"HASH\",U.prototype.toString=function(){return\"HASH(\"+this.value+\")\"},U.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.type=this.type,e},U.prototype.toSource=function(){return\"id\"==this.type?\"#\"+z(this.value):\"#\"+function(e){for(var r=\"\",n=((e=\"\"+e).charCodeAt(0),0);n<e.length;n++){var o=e.charCodeAt(n);if(0==o)throw new l(\"Invalid character: the input contains U+0000.\");o>=128||45==o||95==o||t(o,48,57)||t(o,65,90)||t(o,97,122)?r+=e[n]:r+=\"\\\\\"+o.toString(16)+\" \"}return r}(this.value)},B.prototype=Object.create(P.prototype),B.prototype.tokenType=\"STRING\",B.prototype.toString=function(){return'\"'+G(this.value)+'\"'},Q.prototype=Object.create(P.prototype),Q.prototype.tokenType=\"URL\",Q.prototype.toString=function(){return\"URL(\"+this.value+\")\"},Q.prototype.toSource=function(){return'url(\"'+G(this.value)+'\")'},J.prototype=Object.create(h.prototype),J.prototype.tokenType=\"NUMBER\",J.prototype.toString=function(){return\"integer\"==this.type?\"INT(\"+this.value+\")\":\"NUMBER(\"+this.value+\")\"},J.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.type=this.type,e.repr=this.repr,e},J.prototype.toSource=function(){return this.repr},F.prototype=Object.create(h.prototype),F.prototype.tokenType=\"PERCENTAGE\",F.prototype.toString=function(){return\"PERCENTAGE(\"+this.value+\")\"},F.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.repr=this.repr,e},F.prototype.toSource=function(){return this.repr+\"%\"},W.prototype=Object.create(h.prototype),W.prototype.tokenType=\"DIMENSION\",W.prototype.toString=function(){return\"DIM(\"+this.value+\",\"+this.unit+\")\"},W.prototype.toJSON=function(){var e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.type=this.type,e.repr=this.repr,e.unit=this.unit,e},W.prototype.toSource=function(){var e=this.repr,r=z(this.unit);return\"e\"!=r[0].toLowerCase()||\"-\"!=r[1]&&!t(r.charCodeAt(1),48,57)||(r=\"\\\\65 \"+r.slice(1,r.length)),e+r},e.tokenize=function(e){e=function(e){for(var r=[],n=0;n<e.length;n++){var o=e.charCodeAt(n);if(13==o&&10==e.charCodeAt(n+1)&&(o=10,n++),13!=o&&12!=o||(o=10),0==o&&(o=65533),t(o,55296,56319)&&t(e.charCodeAt(n+1),56320,57343)){var i=o-55296,s=e.charCodeAt(n+1)-56320;o=Math.pow(2,16)+i*Math.pow(2,10)+s,n++}r.push(o)}return r}(e);for(var o,l=-1,h=[],b=0,P=0,z=0,G={line:b,column:P},H=function(t){return t>=e.length?-1:e[t]},V=function(e){if(void 0===e&&(e=1),e>3)throw\"Spec Error: no more than three codepoints of lookahead.\";return H(l+e)},K=function(e){return void 0===e&&(e=1),a(o=H(l+=e))?(b+=1,z=P,P=0):P+=e,!0},X=function(){return l-=1,a(o)?(b-=1,P=z):P-=1,G.line=b,G.column=P,!0},Z=function(e){return void 0===e&&(e=o),-1==e},Y=function(){return console.log(\"Parse error at index \"+l+\", processing codepoint 0x\"+o.toString(16)+\".\"),!0},ee=function(){if(te(),K(),u(o)){for(;u(V());)K();return new m}if(34==o)return oe();if(35==o){if(s(V())||ce(V(1),V(2))){var e=new U;return ue(V(1),V(2),V(3))&&(e.type=\"id\"),e.value=he(),e}return new q(o)}return 36==o?61==V()?(K(),new A):new q(o):39==o?oe():40==o?new C:41==o?new O:42==o?61==V()?(K(),new j):new q(o):43==o?pe()?(X(),re()):new q(o):44==o?new v:45==o?pe()?(X(),re()):45==V(1)&&62==V(2)?(K(2),new d):le()?(X(),ne()):new q(o):46==o?pe()?(X(),re()):new q(o):58==o?new w:59==o?new S:60==o?33==V(1)&&45==V(2)&&45==V(3)?(K(3),new g):new q(o):64==o?ue(V(1),V(2),V(3))?new L(he()):new q(o):91==o?new E:92==o?ae()?(X(),ne()):(Y(),new q(o)):93==o?new k:94==o?61==V()?(K(),new N):new q(o):123==o?new T:124==o?61==V()?(K(),new x):124==V()?(K(),new $):new q(o):125==o?new _:126==o?61==V()?(K(),new M):new q(o):r(o)?(X(),re()):i(o)?(X(),ne()):Z()?new I:new q(o)},te=function(){for(;47==V(1)&&42==V(2);)for(K(2);;){if(K(),42==o&&47==V()){K();break}if(Z())return void Y()}},re=function(){var e,t=fe();return ue(V(1),V(2),V(3))?((e=new W).value=t.value,e.repr=t.repr,e.type=t.type,e.unit=he(),e):37==V()?(K(),(e=new F).value=t.value,e.repr=t.repr,e):((e=new J).value=t.value,e.repr=t.repr,e.type=t.type,e)},ne=function(){var e=he();if(\"url\"==e.toLowerCase()&&40==V()){for(K();u(V(1))&&u(V(2));)K();return 34==V()||39==V()?new D(e):!u(V())||34!=V(2)&&39!=V(2)?ie():new D(e)}return 40==V()?(K(),new D(e)):new R(e)},oe=function(e){void 0===e&&(e=o);for(var t=\"\";K();){if(o==e||Z())return new B(t);if(a(o))return Y(),X(),new f;92==o?Z(V())||(a(V())?K():t+=p(se())):t+=p(o)}},ie=function(){for(var e=new Q(\"\");u(V());)K();if(Z(V()))return e;for(;K();){if(41==o||Z())return e;if(u(o)){for(;u(V());)K();return 41==V()||Z(V())?(K(),e):(me(),new y)}if(34==o||39==o||40==o||c(o))return Y(),me(),new y;if(92==o){if(!ae())return Y(),me(),new y;e.value+=p(se())}else e.value+=p(o)}},se=function(){if(K(),n(o)){for(var e=[o],t=0;t<5&&n(V());t++)K(),e.push(o);u(V())&&K();var r=parseInt(e.map((function(e){return String.fromCharCode(e)})).join(\"\"),16);return r>1114111&&(r=65533),r}return Z()?65533:o},ce=function(e,t){return 92==e&&!a(t)},ae=function(){return ce(o,V())},ue=function(e,t,r){return 45==e?i(t)||45==t||ce(t,r):!!i(e)||92==e&&ce(e,t)},le=function(){return ue(o,V(1),V(2))},pe=function(){return e=o,t=V(1),n=V(2),43==e||45==e?!!r(t)||!(46!=t||!r(n)):46==e?!!r(t):!!r(e);var e,t,n},he=function(){for(var e=\"\";K();)if(s(o))e+=p(o);else{if(!ae())return X(),e;e+=p(se())}},fe=function(){var e=[],t=\"integer\";for(43!=V()&&45!=V()||(K(),e+=p(o));r(V());)K(),e+=p(o);if(46==V(1)&&r(V(2)))for(K(),e+=p(o),K(),e+=p(o),t=\"number\";r(V());)K(),e+=p(o);var n=V(1),i=V(2),s=V(3);if(69!=n&&101!=n||!r(i)){if((69==n||101==n)&&(43==i||45==i)&&r(s))for(K(),e+=p(o),K(),e+=p(o),K(),e+=p(o),t=\"number\";r(V());)K(),e+=p(o)}else for(K(),e+=p(o),K(),e+=p(o),t=\"number\";r(V());)K(),e+=p(o);return{type:t,value:ye(e),repr:e}},ye=function(e){return+e},me=function(){for(;K();){if(41==o||Z())return;ae()&&se()}},ge=0;!Z(V());)if(h.push(ee()),++ge>2*e.length)return\"I'm infinite-looping!\";return h},e.IdentToken=R,e.FunctionToken=D,e.AtKeywordToken=L,e.HashToken=U,e.StringToken=B,e.BadStringToken=f,e.URLToken=Q,e.BadURLToken=y,e.DelimToken=q,e.NumberToken=J,e.PercentageToken=F,e.DimensionToken=W,e.IncludeMatchToken=M,e.DashMatchToken=x,e.PrefixMatchToken=N,e.SuffixMatchToken=A,e.SubstringMatchToken=j,e.ColumnToken=$,e.WhitespaceToken=m,e.CDOToken=g,e.CDCToken=d,e.ColonToken=w,e.SemicolonToken=S,e.CommaToken=v,e.OpenParenToken=C,e.CloseParenToken=O,e.OpenSquareToken=E,e.CloseSquareToken=k,e.OpenCurlyToken=T,e.CloseCurlyToken=_,e.EOFToken=I,e.CSSParserToken=h,e.GroupingToken=b},void 0===(n=r.apply(t,[t]))||(e.exports=n)},461:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),Object.defineProperty(t,\"InvalidSelectorError\",{enumerable:!0,get:function(){return n.InvalidSelectorError}}),t.allEngineNames=function(e){const t=new Set,r=e=>{for(const n of e.parts)t.add(n.name),i.has(n.name)&&r(n.body)};return r(e),t},t.customCSSNames=void 0,Object.defineProperty(t,\"isInvalidSelectorError\",{enumerable:!0,get:function(){return n.isInvalidSelectorError}}),t.parseSelector=s,t.splitSelectorByFrame=function(e){const t=s(e),r=[];let o={parts:[]},i=0;for(let e=0;e<t.parts.length;++e){const s=t.parts[e];if(\"control\"!==s.name||\"enter-frame\"!==s.body)t.capture===e&&(o.capture=e-i),o.parts.push(s);else{if(!o.parts.length)throw new n.InvalidSelectorError(\"Selector cannot start with entering frame, select the iframe first\");r.push(o),o={parts:[]},i=e+1}}if(!o.parts.length)throw new n.InvalidSelectorError(`Selector cannot end with entering frame, while parsing selector ${e}`);if(r.push(o),\"number\"==typeof t.capture&&\"number\"!=typeof r[r.length-1].capture)throw new n.InvalidSelectorError(\"Can not capture the selector before diving into the frame. Only use * after the last frame has been selected\");return r},t.stringifySelector=function(e){return\"string\"==typeof e?e:e.parts.map(((t,r)=>{const n=\"css\"===t.name?\"\":t.name+\"=\";return`${r===e.capture?\"*\":\"\"}${n}${t.source}`})).join(\" >> \")};var n=r(317);const o=new Set([\"not\",\"is\",\"where\",\"has\",\"scope\",\"light\",\"visible\",\"text\",\"text-matches\",\"text-is\",\"has-text\",\"above\",\"below\",\"right-of\",\"left-of\",\"near\",\"nth-match\"]);t.customCSSNames=o;const i=new Set([\"has\"]);function s(e){const t=function(e){let t,r=0,o=0;const i={parts:[]},s=()=>{const t=e.substring(o,r).trim(),s=t.indexOf(\"=\");let c,a;-1!==s&&t.substring(0,s).trim().match(/^[a-zA-Z_0-9-+:*]+$/)?(c=t.substring(0,s).trim(),a=t.substring(s+1)):t.length>1&&'\"'===t[0]&&'\"'===t[t.length-1]||t.length>1&&\"'\"===t[0]&&\"'\"===t[t.length-1]?(c=\"text\",a=t):/^\\(*\\/\\//.test(t)||t.startsWith(\"..\")?(c=\"xpath\",a=t):(c=\"css\",a=t);let u=!1;if(\"*\"===c[0]&&(u=!0,c=c.substring(1)),i.parts.push({name:c,body:a}),u){if(void 0!==i.capture)throw new n.InvalidSelectorError(\"Only one of the selectors can capture using * modifier\");i.capture=i.parts.length-1}};if(!e.includes(\">>\"))return r=e.length,s(),i;for(;r<e.length;){const n=e[r];\"\\\\\"===n&&r+1<e.length?r+=2:n===t?(t=void 0,r++):t||'\"'!==n&&\"'\"!==n&&\"`\"!==n?t||\">\"!==n||\">\"!==e[r+1]?r++:(s(),r+=2,o=r):(t=n,r++)}return s(),i}(e),r=t.parts.map((e=>{if(\"css\"===e.name||\"css:light\"===e.name)return\"css:light\"===e.name&&(e.body=\":light(\"+e.body+\")\"),{name:\"css\",body:(0,n.parseCSS)(e.body,o).selector,source:e.body};if(i.has(e.name)){let t;try{const r=JSON.parse(e.body);if(\"string\"!=typeof r)throw new Error(`Malformed selector: ${e.name}=`+e.body);t=r}catch(t){throw new Error(`Malformed selector: ${e.name}=`+e.body)}const r={name:e.name,source:e.body,body:s(t)};if(r.body.parts.some((e=>\"control\"===e.name&&\"enter-frame\"===e.body)))throw new Error(`Frames are not allowed inside \"${e.name}\" selectors`);return r}return{...e,source:e.body}}));if(i.has(r[0].name))throw new Error(`\"${r[0].name}\" selector cannot be first`);return{capture:t.capture,parts:r}}},848:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.SelectorEvaluatorImpl=void 0,t.createLaxTextMatcher=y,t.createRegexTextMatcher=g,t.createStrictTextMatcher=m,t.elementMatchesText=S,t.elementText=w,t.isInsideScope=function(e,t){for(;t;){if(e.contains(t))return!0;for(;t.parentElement;)t=t.parentElement;t=O(t)}return!1},t.isVisible=N,t.parentElementOrShadowHost=O;var n=r(461);t.SelectorEvaluatorImpl=class{constructor(e){this._engines=new Map,this._cacheQueryCSS=new Map,this._cacheMatches=new Map,this._cacheQuery=new Map,this._cacheMatchesSimple=new Map,this._cacheMatchesParents=new Map,this._cacheCallMatches=new Map,this._cacheCallQuery=new Map,this._cacheQuerySimple=new Map,this._cacheText=new Map,this._scoreMap=void 0,this._retainCacheCounter=0;for(const[t,r]of e)this._engines.set(t,r);this._engines.set(\"not\",c),this._engines.set(\"is\",o),this._engines.set(\"where\",o),this._engines.set(\"has\",i),this._engines.set(\"scope\",s),this._engines.set(\"light\",a),this._engines.set(\"visible\",u),this._engines.set(\"text\",l),this._engines.set(\"text-is\",p),this._engines.set(\"text-matches\",h),this._engines.set(\"has-text\",f),this._engines.set(\"right-of\",k(\"right-of\",v)),this._engines.set(\"left-of\",k(\"left-of\",b)),this._engines.set(\"above\",k(\"above\",T)),this._engines.set(\"below\",k(\"below\",_)),this._engines.set(\"near\",k(\"near\",E)),this._engines.set(\"nth-match\",C);const t=[...this._engines.keys()];t.sort();const r=[...n.customCSSNames];if(r.sort(),t.join(\"|\")!==r.join(\"|\"))throw new Error(`Please keep customCSSNames in sync with evaluator engines: ${t.join(\"|\")} vs ${r.join(\"|\")}`)}begin(){++this._retainCacheCounter}end(){--this._retainCacheCounter,this._retainCacheCounter||(this._cacheQueryCSS.clear(),this._cacheMatches.clear(),this._cacheQuery.clear(),this._cacheMatchesSimple.clear(),this._cacheMatchesParents.clear(),this._cacheCallMatches.clear(),this._cacheCallQuery.clear(),this._cacheQuerySimple.clear(),this._cacheText.clear())}_cached(e,t,r,n){e.has(t)||e.set(t,[]);const o=e.get(t),i=o.find((e=>r.every(((t,r)=>e.rest[r]===t))));if(i)return i.result;const s=n();return o.push({rest:r,result:s}),s}_checkSelector(e){if(\"object\"!=typeof e||!e||!(Array.isArray(e)||\"simples\"in e&&e.simples.length))throw new Error(`Malformed selector \"${e}\"`);return e}matches(e,t,r){const n=this._checkSelector(t);this.begin();try{return this._cached(this._cacheMatches,e,[n,r.scope,r.pierceShadow],(()=>Array.isArray(n)?this._matchesEngine(o,e,n,r):!!this._matchesSimple(e,n.simples[n.simples.length-1].selector,r)&&this._matchesParents(e,n,n.simples.length-2,r)))}finally{this.end()}}query(e,t){const r=this._checkSelector(t);this.begin();try{return this._cached(this._cacheQuery,r,[e.scope,e.pierceShadow],(()=>{if(Array.isArray(r))return this._queryEngine(o,e,r);const t=this._scoreMap;this._scoreMap=new Map;let n=this._querySimple(e,r.simples[r.simples.length-1].selector);return n=n.filter((t=>this._matchesParents(t,r,r.simples.length-2,e))),this._scoreMap.size&&n.sort(((e,t)=>{const r=this._scoreMap.get(e),n=this._scoreMap.get(t);return r===n?0:void 0===r?1:void 0===n?-1:r-n})),this._scoreMap=t,n}))}finally{this.end()}}_markScore(e,t){this._scoreMap&&this._scoreMap.set(e,t)}_matchesSimple(e,t,r){return this._cached(this._cacheMatchesSimple,e,[t,r.scope,r.pierceShadow],(()=>{if(!t.functions.some((e=>\"scope\"===e.name||\"is\"===e.name))&&e===r.scope)return!1;if(t.css&&!this._matchesCSS(e,t.css))return!1;for(const n of t.functions)if(!this._matchesEngine(this._getEngine(n.name),e,n.args,r))return!1;return!0}))}_querySimple(e,t){return t.functions.length?this._cached(this._cacheQuerySimple,t,[e.scope,e.pierceShadow],(()=>{let r=t.css;const n=t.functions;let o;\"*\"===r&&n.length&&(r=void 0);let i=-1;void 0!==r?(o=this._queryCSS(e,r),n.some((e=>\"scope\"===e.name))&&1===e.scope.nodeType&&o.unshift(e.scope)):(i=n.findIndex((e=>void 0!==this._getEngine(e.name).query)),-1===i&&(i=0),o=this._queryEngine(this._getEngine(n[i].name),e,n[i].args));for(let t=0;t<n.length;t++){if(t===i)continue;const r=this._getEngine(n[t].name);void 0!==r.matches&&(o=o.filter((o=>this._matchesEngine(r,o,n[t].args,e))))}for(let t=0;t<n.length;t++){if(t===i)continue;const r=this._getEngine(n[t].name);void 0===r.matches&&(o=o.filter((o=>this._matchesEngine(r,o,n[t].args,e))))}return o})):this._queryCSS(e,t.css||\"*\")}_matchesParents(e,t,r,n){return r<0||this._cached(this._cacheMatchesParents,e,[t,r,n.scope,n.pierceShadow],(()=>{const{selector:o,combinator:i}=t.simples[r];if(\">\"===i){const i=M(e,n);return!(!i||!this._matchesSimple(i,o,n))&&this._matchesParents(i,t,r-1,n)}if(\"+\"===i){const i=x(e,n);return!(!i||!this._matchesSimple(i,o,n))&&this._matchesParents(i,t,r-1,n)}if(\"\"===i){let i=M(e,n);for(;i;){if(this._matchesSimple(i,o,n)){if(this._matchesParents(i,t,r-1,n))return!0;if(\"\"===t.simples[r-1].combinator)break}i=M(i,n)}return!1}if(\"~\"===i){let i=x(e,n);for(;i;){if(this._matchesSimple(i,o,n)){if(this._matchesParents(i,t,r-1,n))return!0;if(\"~\"===t.simples[r-1].combinator)break}i=x(i,n)}return!1}if(\">=\"===i){let i=e;for(;i;){if(this._matchesSimple(i,o,n)){if(this._matchesParents(i,t,r-1,n))return!0;if(\"\"===t.simples[r-1].combinator)break}i=M(i,n)}return!1}throw new Error(`Unsupported combinator \"${i}\"`)}))}_matchesEngine(e,t,r,n){if(e.matches)return this._callMatches(e,t,r,n);if(e.query)return this._callQuery(e,r,n).includes(t);throw new Error('Selector engine should implement \"matches\" or \"query\"')}_queryEngine(e,t,r){if(e.query)return this._callQuery(e,r,t);if(e.matches)return this._queryCSS(t,\"*\").filter((n=>this._callMatches(e,n,r,t)));throw new Error('Selector engine should implement \"matches\" or \"query\"')}_callMatches(e,t,r,n){return this._cached(this._cacheCallMatches,t,[e,n.scope,n.pierceShadow,...r],(()=>e.matches(t,r,n,this)))}_callQuery(e,t,r){return this._cached(this._cacheCallQuery,e,[r.scope,r.pierceShadow,...t],(()=>e.query(r,t,this)))}_matchesCSS(e,t){return e.matches(t)}_queryCSS(e,t){return this._cached(this._cacheQueryCSS,t,[e.scope,e.pierceShadow],(()=>{let r=[];return function n(o){if(r=r.concat([...o.querySelectorAll(t)]),e.pierceShadow){o.shadowRoot&&n(o.shadowRoot);for(const e of o.querySelectorAll(\"*\"))e.shadowRoot&&n(e.shadowRoot)}}(e.scope),r}))}_getEngine(e){const t=this._engines.get(e);if(!t)throw new Error(`Unknown selector engine \"${e}\"`);return t}};const o={matches(e,t,r,n){if(0===t.length)throw new Error('\"is\" engine expects non-empty selector list');return t.some((t=>n.matches(e,t,r)))},query(e,t,r){if(0===t.length)throw new Error('\"is\" engine expects non-empty selector list');let n=[];for(const o of t)n=n.concat(r.query(e,o));return 1===t.length?n:function(e){const t=new Map,r=[],n=[];function o(e){let n=t.get(e);if(n)return n;const i=O(e);return i?o(i).children.push(e):r.push(e),n={children:[],taken:!1},t.set(e,n),n}return e.forEach((e=>o(e).taken=!0)),r.forEach((function e(r){const o=t.get(r);if(o.taken&&n.push(r),o.children.length>1){const e=new Set(o.children);o.children=[];let t=r.firstElementChild;for(;t&&o.children.length<e.size;)e.has(t)&&o.children.push(t),t=t.nextElementSibling;for(t=r.shadowRoot?r.shadowRoot.firstElementChild:null;t&&o.children.length<e.size;)e.has(t)&&o.children.push(t),t=t.nextElementSibling}o.children.forEach(e)})),n}(n)}},i={matches(e,t,r,n){if(0===t.length)throw new Error('\"has\" engine expects non-empty selector list');return n.query({...r,scope:e},t).length>0}},s={matches(e,t,r,n){if(0!==t.length)throw new Error('\"scope\" engine expects no arguments');return 9===r.scope.nodeType?e===r.scope.documentElement:e===r.scope},query(e,t,r){if(0!==t.length)throw new Error('\"scope\" engine expects no arguments');if(9===e.scope.nodeType){const t=e.scope.documentElement;return t?[t]:[]}return 1===e.scope.nodeType?[e.scope]:[]}},c={matches(e,t,r,n){if(0===t.length)throw new Error('\"not\" engine expects non-empty selector list');return!n.matches(e,t,r)}},a={query:(e,t,r)=>r.query({...e,pierceShadow:!1},t),matches:(e,t,r,n)=>n.matches(e,t,{...r,pierceShadow:!1})},u={matches(e,t,r,n){if(t.length)throw new Error('\"visible\" engine expects no arguments');return N(e)}},l={matches(e,t,r,n){if(1!==t.length||\"string\"!=typeof t[0])throw new Error('\"text\" engine expects a single string');return\"self\"===S(n,e,y(t[0]))}},p={matches(e,t,r,n){if(1!==t.length||\"string\"!=typeof t[0])throw new Error('\"text-is\" engine expects a single string');return\"none\"!==S(n,e,m(t[0]))}},h={matches(e,t,r,n){if(0===t.length||\"string\"!=typeof t[0]||t.length>2||2===t.length&&\"string\"!=typeof t[1])throw new Error('\"text-matches\" engine expects a regexp body and optional regexp flags');return\"self\"===S(n,e,g(t[0],2===t.length?t[1]:void 0))}},f={matches(e,t,r,n){if(1!==t.length||\"string\"!=typeof t[0])throw new Error('\"has-text\" engine expects a single string');return!d(e)&&y(t[0])(w(n,e))}};function y(e){return e=e.trim().replace(/\\s+/g,\" \").toLowerCase(),t=>t.full.trim().replace(/\\s+/g,\" \").toLowerCase().includes(e)}function m(e){return e=e.trim().replace(/\\s+/g,\" \"),t=>!e&&!t.immediate.length||t.immediate.some((t=>t.trim().replace(/\\s+/g,\" \")===e))}function g(e,t){const r=new RegExp(e,t);return e=>r.test(e.full)}function d(e){return\"SCRIPT\"===e.nodeName||\"STYLE\"===e.nodeName||document.head&&document.head.contains(e)}function w(e,t){let r=e._cacheText.get(t);if(void 0===r){if(r={full:\"\",immediate:[]},!d(t)){let n=\"\";if(t instanceof HTMLInputElement&&(\"submit\"===t.type||\"button\"===t.type))r={full:t.value,immediate:[t.value]};else{for(let o=t.firstChild;o;o=o.nextSibling)o.nodeType===Node.TEXT_NODE?(r.full+=o.nodeValue||\"\",n+=o.nodeValue||\"\"):(n&&r.immediate.push(n),n=\"\",o.nodeType===Node.ELEMENT_NODE&&(r.full+=w(e,o).full));n&&r.immediate.push(n),t.shadowRoot&&(r.full+=w(e,t.shadowRoot).full)}}e._cacheText.set(t,r)}return r}function S(e,t,r){if(d(t))return\"none\";if(!r(w(e,t)))return\"none\";for(let n=t.firstChild;n;n=n.nextSibling)if(n.nodeType===Node.ELEMENT_NODE&&r(w(e,n)))return\"selfAndChildren\";return t.shadowRoot&&r(w(e,t.shadowRoot))?\"selfAndChildren\":\"self\"}function v(e,t,r){const n=e.left-t.right;if(!(n<0||void 0!==r&&n>r))return n+Math.max(t.bottom-e.bottom,0)+Math.max(e.top-t.top,0)}function b(e,t,r){const n=t.left-e.right;if(!(n<0||void 0!==r&&n>r))return n+Math.max(t.bottom-e.bottom,0)+Math.max(e.top-t.top,0)}function T(e,t,r){const n=t.top-e.bottom;if(!(n<0||void 0!==r&&n>r))return n+Math.max(e.left-t.left,0)+Math.max(t.right-e.right,0)}function _(e,t,r){const n=e.top-t.bottom;if(!(n<0||void 0!==r&&n>r))return n+Math.max(e.left-t.left,0)+Math.max(t.right-e.right,0)}function E(e,t,r){const n=void 0===r?50:r;let o=0;return e.left-t.right>=0&&(o+=e.left-t.right),t.left-e.right>=0&&(o+=t.left-e.right),t.top-e.bottom>=0&&(o+=t.top-e.bottom),e.top-t.bottom>=0&&(o+=e.top-t.bottom),o>n?void 0:o}function k(e,t){return{matches(r,n,o,i){const s=n.length&&\"number\"==typeof n[n.length-1]?n[n.length-1]:void 0,c=void 0===s?n:n.slice(0,n.length-1);if(n.length<1+(void 0===s?0:1))throw new Error(`\"${e}\" engine expects a selector list and optional maximum distance in pixels`);const a=r.getBoundingClientRect();let u;for(const e of i.query(o,c)){if(e===r)continue;const n=t(a,e.getBoundingClientRect(),s);void 0!==n&&(void 0===u||n<u)&&(u=n)}return void 0!==u&&(i._markScore(r,u),!0)}}}const C={query(e,t,r){let n=t[t.length-1];if(t.length<2)throw new Error('\"nth-match\" engine expects non-empty selector list and an index argument');if(\"number\"!=typeof n||n<1)throw new Error('\"nth-match\" engine expects a one-based index as the last argument');const i=o.query(e,t.slice(0,t.length-1),r);return n--,n<i.length?[i[n]]:[]}};function O(e){return e.parentElement?e.parentElement:e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.parentNode.host?e.parentNode.host:void 0}function M(e,t){if(e!==t.scope)return t.pierceShadow?O(e):e.parentElement||void 0}function x(e,t){if(e!==t.scope)return e.previousElementSibling||void 0}function N(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return!0;const t=e.ownerDocument.defaultView.getComputedStyle(e);if(!t||\"hidden\"===t.visibility)return!1;if(\"contents\"===t.display){for(let t=e.firstChild;t;t=t.nextSibling){if(1===t.nodeType&&N(t))return!0;if(3===t.nodeType&&A(t))return!0}return!1}const r=e.getBoundingClientRect();return r.width>0&&r.height>0}function A(e){const t=document.createRange();t.selectNode(e);const r=t.getBoundingClientRect();return r.width>0&&r.height>0}},854:(e,t,r)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.generateSelector=function(e,t,r){e._evaluator.begin();try{const m=function(e,t,r){if(t.ownerDocument.documentElement===t)return[{engine:\"css\",selector:\"html\",score:1}];const s=(p,m)=>{const g=m?o:i;let d=g.get(p);return void 0===d&&(d=((o,i)=>{const p=o===t;let m=i?function(e,t,r){if(\"SELECT\"===t.nodeName)return[];const o=(0,n.elementText)(e._evaluator,t).full.trim().replace(/\\s+/g,\" \").substring(0,80);if(!o)return[];const i=[];let s=o;if((o.includes('\"')||o.includes(\">>\")||\"/\"===o[0])&&(s=`/.*${function(e){return e.replace(/[.*+?^>${}()|[\\]\\\\]/g,\"\\\\$&\")}(o)}.*/`),i.push({engine:\"text\",selector:s,score:10}),r&&s===o){let e=t.nodeName.toLowerCase();t.hasAttribute(\"role\")&&(e+=`[role=${l(t.getAttribute(\"role\"))}]`),i.push({engine:\"css\",selector:`${e}:has-text(\"${o}\")`,score:30})}return i}(e,o,o===t).map((e=>[e])):[];o!==t&&(m=c(m));const g=function(e,t){const r=[];for(const e of[\"data-testid\",\"data-test-id\",\"data-test\"])t.hasAttribute(e)&&r.push({engine:\"css\",selector:`[${e}=${l(t.getAttribute(e))}]`,score:1});if(\"INPUT\"===t.nodeName){const e=t;e.placeholder&&r.push({engine:\"css\",selector:`[placeholder=${l(e.placeholder)}]`,score:10})}t.hasAttribute(\"aria-label\")&&r.push({engine:\"css\",selector:`[aria-label=${l(t.getAttribute(\"aria-label\"))}]`,score:10}),t.getAttribute(\"alt\")&&[\"APPLET\",\"AREA\",\"IMG\",\"INPUT\"].includes(t.nodeName)&&r.push({engine:\"css\",selector:`${y(t.nodeName.toLowerCase())}[alt=${l(t.getAttribute(\"alt\"))}]`,score:10}),t.hasAttribute(\"role\")&&r.push({engine:\"css\",selector:`${y(t.nodeName.toLowerCase())}[role=${l(t.getAttribute(\"role\"))}]`,score:50}),t.getAttribute(\"name\")&&[\"BUTTON\",\"FORM\",\"FIELDSET\",\"IFRAME\",\"INPUT\",\"KEYGEN\",\"OBJECT\",\"OUTPUT\",\"SELECT\",\"TEXTAREA\",\"MAP\",\"META\",\"PARAM\"].includes(t.nodeName)&&r.push({engine:\"css\",selector:`${y(t.nodeName.toLowerCase())}[name=${l(t.getAttribute(\"name\"))}]`,score:50}),[\"INPUT\",\"TEXTAREA\"].includes(t.nodeName)&&\"hidden\"!==t.getAttribute(\"type\")&&t.getAttribute(\"type\")&&r.push({engine:\"css\",selector:`${y(t.nodeName.toLowerCase())}[type=${l(t.getAttribute(\"type\"))}]`,score:50}),[\"INPUT\",\"TEXTAREA\",\"SELECT\"].includes(t.nodeName)&&r.push({engine:\"css\",selector:y(t.nodeName.toLowerCase()),score:50});const n=t.getAttribute(\"id\");return n&&!function(e){let t,r=0;for(let n=0;n<e.length;++n){const o=e[n];let i;\"-\"!==o&&\"_\"!==o&&(i=o>=\"a\"&&o<=\"z\"?\"lower\":o>=\"A\"&&o<=\"Z\"?\"upper\":o>=\"0\"&&o<=\"9\"?\"digit\":\"other\",\"lower\"!==i||\"upper\"!==t?(t&&t!==i&&++r,t=i):t=i)}return r>=e.length/4}(n)&&r.push({engine:\"css\",selector:u(n),score:100}),r.push({engine:\"css\",selector:y(t.nodeName.toLowerCase()),score:200}),r}(0,o).map((e=>[e]));let d=f(e,t.ownerDocument,o,[...m,...g],p,r);m=c(m);const w=t=>{const n=i&&!t.length,c=[...t,...g].filter((e=>!d||h(e)<h(d)));let u=c[0];if(u)for(let t=a(o);t;t=a(t)){const i=s(t,n);if(!i)continue;if(d&&h([...i,...u])>=h(d))continue;if(u=f(e,t,o,c,p,r),!u)return;const a=[...i,...u];(!d||h(a)<h(d))&&(d=a)}};return w(m),o===t&&m.length&&w([]),d})(p,m),g.set(p,d)),d};return s(t,!0)}(e,t=t.closest(\"button,select,input,[role=button],[role=checkbox],[role=radio]\")||t,r),g=m||function(e,t,r){const n=t.ownerDocument,o=[];function i(r){const n=o.slice();r&&n.unshift(r);const i=n.join(\" \"),s=e.parseSelector(i);return e.querySelector(s,t.ownerDocument,!1)===t?i:void 0}function c(n){const o={engine:\"css\",selector:n,score:1e7};if(!r)return[o];const i=e.parseSelector(n),c=e.querySelectorAll(i,t.ownerDocument);return 1===c.length?[o]:[o,{engine:\"nth\",selector:String(c.indexOf(t)),score:s}]}for(let e=t;e&&e!==n;e=a(e)){const t=e.nodeName.toLowerCase();let r=\"\";if(e.id){const t=u(e.id),n=i(t);if(n)return c(n);r=t}const n=e.parentNode,s=[...e.classList];for(let e=0;e<s.length;++e){const t=\".\"+s.slice(0,e+1).join(\".\"),o=i(t);if(o)return c(o);!r&&n&&1===n.querySelectorAll(t).length&&(r=t)}if(n){const o=[...n.children],s=0===o.filter((e=>e.nodeName.toLowerCase()===t)).indexOf(e)?y(t):`${y(t)}:nth-child(${1+o.indexOf(e)})`,a=i(s);if(a)return c(a);r||(r=s)}else r||(r=t);o.unshift(r)}return c(i())}(e,t,r),d=p(g),w=e.parseSelector(d);return{selector:d,elements:e.querySelectorAll(w,t.ownerDocument)}}finally{o.clear(),i.clear(),e._evaluator.end()}},t.querySelector=function(e,t,r){try{const n=e.parseSelector(t);return{selector:t,elements:e.querySelectorAll(n,r)}}catch(e){return{selector:t,elements:[]}}};var n=r(848);const o=new Map,i=new Map,s=1e3;function c(e){return e.filter((e=>\"/\"!==e[0].selector[0]))}function a(e){return e.parentElement?e.parentElement:e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.parentNode.host?e.parentNode.host:null}function u(e){return/^[a-zA-Z][a-zA-Z0-9\\-\\_]+$/.test(e)?\"#\"+e:`[id=\"${y(e)}\"]`}function l(e){return`\"${y(e)}\"`}function p(e){const t=[];let r=\"\";for(const{engine:n,selector:o}of e)t.length&&(\"css\"!==r||\"css\"!==n||o.startsWith(\":nth-match(\"))&&t.push(\">>\"),r=n,\"css\"===n?t.push(o):t.push(`${n}=${o}`);return t.join(\" \")}function h(e){let t=0;for(let r=0;r<e.length;r++)t+=e[r].score*(e.length-r);return t}function f(e,t,r,n,o,i){const c=n.map((e=>({tokens:e,score:h(e)})));c.sort(((e,t)=>e.score-t.score));let a=null;for(const{tokens:n}of c){const c=e.parseSelector(p(n)),u=e.querySelectorAll(c,t),l=!i||1===u.length,h=u.indexOf(r);if(0===h&&l)return n;if(!o||a||-1===h||u.length>5)continue;const f={engine:\"nth\",selector:String(h),score:s};a=[...n,f]}return a}function y(e){let t=\"\";for(let r=0;r<e.length;r++)t+=m(e,r);return t}function m(e,t){const r=e.charCodeAt(t);return 0===r?\"�\":r>=1&&r<=31||r>=48&&r<=57&&(0===t||1===t&&45===e.charCodeAt(0))?\"\\\\\"+r.toString(16)+\" \":0===t&&45===r&&1===e.length?\"\\\\\"+e.charAt(t):r>=128||45===r||95===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122?e.charAt(t):\"\\\\\"+e.charAt(t)}},523:(e,t)=>{Object.defineProperty(t,\"__esModule\",{value:!0}),t.escapeWithQuotes=function(e,t=\"'\"){const r=JSON.stringify(e),n=r.substring(1,r.length-1).replace(/\\\\\"/g,'\"');if(\"'\"===t)return t+n.replace(/[']/g,\"\\\\'\")+t;if('\"'===t)return t+n.replace(/[\"]/g,'\\\\\"')+t;if(\"`\"===t)return t+n.replace(/[`]/g,\"`\")+t;throw new Error(\"Invalid escape char\")}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}var n={};(()=>{var e=n;e.default=void 0;var t=r(523),o=r(854);var i=class{constructor(e){this._injectedScript=void 0,this._injectedScript=e,window.playwright||(window.playwright={$:(e,t)=>this._querySelector(e,!!t),$$:e=>this._querySelectorAll(e),locator:(e,r)=>function(e,r,n){class o{constructor(r,n){if(this.selector=void 0,this.element=void 0,this.elements=void 0,this.selector=r,null!=n&&n.hasText){const e=n.hasText;e instanceof RegExp?this.selector+=` >> :scope:text-matches(${(0,t.escapeWithQuotes)(e.source,'\"')}, \"${e.flags}\")`:this.selector+=` >> :scope:has-text(${(0,t.escapeWithQuotes)(e)})`}null!=n&&n.has&&(this.selector+=\" >> has=\"+JSON.stringify(n.has.selector));const o=e.parseSelector(this.selector);this.element=e.querySelector(o,document,!1),this.elements=e.querySelectorAll(o,document)}locator(e,t){return new o(this.selector?this.selector+\" >> \"+e:e,t)}}return new o(r,n)}(this._injectedScript,e,r),inspect:e=>this._inspect(e),selector:e=>this._selector(e),resume:()=>this._resume()})}_querySelector(e,t){if(\"string\"!=typeof e)throw new Error(\"Usage: playwright.query('Playwright >> selector').\");const r=this._injectedScript.parseSelector(e);return this._injectedScript.querySelector(r,document,t)}_querySelectorAll(e){if(\"string\"!=typeof e)throw new Error(\"Usage: playwright.$$('Playwright >> selector').\");const t=this._injectedScript.parseSelector(e);return this._injectedScript.querySelectorAll(t,document)}_inspect(e){if(\"string\"!=typeof e)throw new Error(\"Usage: playwright.inspect('Playwright >> selector').\");window.inspect(this._querySelector(e,!1))}_selector(e){if(!(e instanceof Element))throw new Error(\"Usage: playwright.selector(element).\");return(0,o.generateSelector)(this._injectedScript,e,!0).selector}_resume(){window._playwrightResume().catch((()=>{}))}};e.default=i})(),pwExport=n.default})();";
exports.source = source;