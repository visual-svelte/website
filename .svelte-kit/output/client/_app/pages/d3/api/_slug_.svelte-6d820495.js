import{S as W,i as Y,s as R,e as S,t as E,k as L,c as H,a as P,h as I,d,m as T,b as B,g as k,F as v,G as ue,j as K,H as G,I as ie,D as fe,w as M,x as F,y as V,o as D,p as z,q as $,B as N,J as te,K as q,bs as ce,n as Q,R as me,bm as he,l as U,bo as _e}from"../../../chunks/vendor-95c30d18.js";import{d as le}from"../../../chunks/cms-f6c16c52.js";import{F as pe}from"../../../chunks/FormattedExample-9b8b48af.js";import{S as de}from"../../../chunks/CodeVisual-17fca643.js";import{M as ge}from"../../../chunks/Meta-f3965f74.js";import{P as be}from"../../../chunks/PostGallery-eab2c5fe.js";import{p as ve}from"../../../chunks/stores-4a69a260.js";import"../../../chunks/ActionButton.svelte_svelte_type_style_lang-19892f2a.js";import"../../../chunks/singletons-d1fb5791.js";function ke(n){n.preventDefault();const e=n.currentTarget,r=new URL(e.href).hash.replace("#",""),t=document.getElementById(r);window.scrollTo({top:t.offsetTop,behavior:"smooth"})}function se(n,e,r){const t=n.slice();return t[1]=e[r],t}function re(n){let e,r,t=n[1].title+"",l,a,s,u,h;return{c(){e=S("li"),r=S("a"),l=E(t),s=L(),this.h()},l(i){e=H(i,"LI",{class:!0});var o=P(e);r=H(o,"A",{href:!0});var c=P(r);l=I(c,t),c.forEach(d),s=T(o),o.forEach(d),this.h()},h(){B(r,"href",a="#"+n[1].id),B(e,"class","svelte-1lrdn70")},m(i,o){k(i,e,o),v(e,r),v(r,l),v(e,s),u||(h=ue(r,"click",ke),u=!0)},p(i,o){o&1&&t!==(t=i[1].title+"")&&K(l,t),o&1&&a!==(a="#"+i[1].id)&&B(r,"href",a)},d(i){i&&d(e),u=!1,h()}}}function ye(n){let e,r,t,l,a=n[0],s=[];for(let u=0;u<a.length;u+=1)s[u]=re(se(n,a,u));return{c(){e=S("div"),r=S("p"),t=E("In this post:"),l=L();for(let u=0;u<s.length;u+=1)s[u].c()},l(u){e=H(u,"DIV",{});var h=P(e);r=H(h,"P",{});var i=P(r);t=I(i,"In this post:"),i.forEach(d),l=T(h);for(let o=0;o<s.length;o+=1)s[o].l(h);h.forEach(d)},m(u,h){k(u,e,h),v(e,r),v(r,t),v(e,l);for(let i=0;i<s.length;i+=1)s[i].m(e,null)},p(u,[h]){if(h&1){a=u[0];let i;for(i=0;i<a.length;i+=1){const o=se(u,a,i);s[i]?s[i].p(o,h):(s[i]=re(o),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=a.length}},i:G,o:G,d(u){u&&d(e),ie(s,u)}}}function $e(n,e,r){let{points:t}=e;return n.$$set=l=>{"points"in l&&r(0,t=l.points)},[t]}class we extends W{constructor(e){super();Y(this,e,$e,ye,R,{points:0})}}function Ee(n){let e,r,t,l,a;return{c(){e=S("p"),r=E(`Sorry, I'm still working on this piece of content! But I'll be sure to publish\r
  it as soon as it's ready.`),t=L(),l=S("p"),a=E("Want to be informed when it is released. sign up to our mailing list."),this.h()},l(s){e=H(s,"P",{class:!0});var u=P(e);r=I(u,`Sorry, I'm still working on this piece of content! But I'll be sure to publish\r
  it as soon as it's ready.`),u.forEach(d),t=T(s),l=H(s,"P",{class:!0});var h=P(l);a=I(h,"Want to be informed when it is released. sign up to our mailing list."),h.forEach(d),this.h()},h(){B(e,"class","svelte-fyff70"),B(l,"class","svelte-fyff70")},m(s,u){k(s,e,u),v(e,r),k(s,t,u),k(s,l,u),v(l,a)},p:G,i:G,o:G,d(s){s&&d(e),s&&d(t),s&&d(l)}}}class Ie extends W{constructor(e){super();Y(this,e,null,Ee,R,{})}}function De(n){let e,r,t,l,a,s,u,h,i;return{c(){e=S("div"),r=E("Note: this page shows you how to implment the "),t=E(n[1]),l=E(` module in Svelte. For\r
  more details about the `),a=E(n[1]),s=E(` module, please consult the\r
  `),u=S("a"),h=E("docs on GitHub"),i=E("."),this.h()},l(o){e=H(o,"DIV",{class:!0});var c=P(e);r=I(c,"Note: this page shows you how to implment the "),t=I(c,n[1]),l=I(c,` module in Svelte. For\r
  more details about the `),a=I(c,n[1]),s=I(c,` module, please consult the\r
  `),u=H(c,"A",{href:!0});var g=P(u);h=I(g,"docs on GitHub"),g.forEach(d),i=I(c,"."),c.forEach(d),this.h()},h(){B(u,"href",n[0]),B(e,"class","svelte-nh07a1")},m(o,c){k(o,e,c),v(e,r),v(e,t),v(e,l),v(e,a),v(e,s),v(e,u),v(u,h),v(e,i)},p(o,[c]){c&2&&K(t,o[1]),c&2&&K(a,o[1]),c&1&&B(u,"href",o[0])},i:G,o:G,d(o){o&&d(e)}}}function Se(n,e,r){let{url:t}=e,{d3module:l}=e;return n.$$set=a=>{"url"in a&&r(0,t=a.url),"d3module"in a&&r(1,l=a.d3module)},[t,l]}class He extends W{constructor(e){super();Y(this,e,Se,De,R,{url:0,d3module:1})}}const A=fe([]);function ne(n,e,r){const t=n.slice();return t[13]=e[r],t[15]=r,t}function Pe(n){let e,r,t,l,a,s,u=n[4],h,i;function o(f){n[8](f)}let c={$$slots:{default:[Le]},$$scope:{ctx:n}};n[3]!==void 0&&(c.value=n[3]),e=new de({props:c}),me.push(()=>he(e,"value",o));let g=ae(n);return{c(){M(e.$$.fragment),t=L(),l=S("h2"),a=E("You might also like:"),s=L(),g.c(),h=U(),this.h()},l(f){F(e.$$.fragment,f),t=T(f),l=H(f,"H2",{class:!0});var b=P(l);a=I(b,"You might also like:"),b.forEach(d),s=T(f),g.l(f),h=U(),this.h()},h(){B(l,"class","svelte-dbhb1r")},m(f,b){V(e,f,b),k(f,t,b),k(f,l,b),v(l,a),k(f,s,b),g.m(f,b),k(f,h,b),i=!0},p(f,b){const w={};b&65601&&(w.$$scope={dirty:b,ctx:f}),!r&&b&8&&(r=!0,w.value=f[3],_e(()=>r=!1)),e.$set(w),b&16&&R(u,u=f[4])?(Q(),D(g,1,1,G),z(),g=ae(f),g.c(),$(g),g.m(h.parentNode,h)):g.p(f,b)},i(f){i||($(e.$$.fragment,f),$(g),i=!0)},o(f){D(e.$$.fragment,f),D(g),i=!1},d(f){N(e,f),f&&d(t),f&&d(l),f&&d(s),f&&d(h),g.d(f)}}}function Be(n){let e,r;return e=new Ie({}),{c(){M(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){V(e,t,l),r=!0},p:G,i(t){r||($(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){N(e,t)}}}function oe(n){let e,r,t;return e=new pe({props:{comp:n[13],route:"d3/"}}),{c(){M(e.$$.fragment),r=L()},l(l){F(e.$$.fragment,l),r=T(l)},m(l,a){V(e,l,a),k(l,r,a),t=!0},p(l,a){const s={};a&64&&(s.comp=l[13]),e.$set(s)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){N(e,l),l&&d(r)}}}function Le(n){var X,Z;let e,r,t=((X=n[0])==null?void 0:X.post_title)+"",l,a,s,u=((Z=n[0])==null?void 0:Z.intro_text)+"",h,i,o,c,g,f,b;i=new He({props:{d3module:n[0].primary_key,url:`https://github.com/d3/${n[0].primary_key}`}}),c=new we({props:{points:n[0].components}});let w=n[6],m=[];for(let _=0;_<w.length;_+=1)m[_]=oe(ne(n,w,_));const J=_=>D(m[_],1,1,()=>{m[_]=null});return{c(){e=S("div"),r=S("h1"),l=E(t),a=L(),s=S("p"),h=L(),M(i.$$.fragment),o=L(),M(c.$$.fragment),g=L();for(let _=0;_<m.length;_+=1)m[_].c();f=U(),this.h()},l(_){e=H(_,"DIV",{id:!0,class:!0});var p=P(e);r=H(p,"H1",{});var C=P(r);l=I(C,t),C.forEach(d),a=T(p),s=H(p,"P",{class:!0});var j=P(s);j.forEach(d),h=T(p),F(i.$$.fragment,p),o=T(p),F(c.$$.fragment,p),p.forEach(d),g=T(_);for(let O=0;O<m.length;O+=1)m[O].l(_);f=U(),this.h()},h(){B(s,"class","svelte-dbhb1r"),B(e,"id","intro"),B(e,"class","intro")},m(_,p){k(_,e,p),v(e,r),v(r,l),v(e,a),v(e,s),s.innerHTML=u,v(e,h),V(i,e,null),v(e,o),V(c,e,null),k(_,g,p);for(let C=0;C<m.length;C+=1)m[C].m(_,p);k(_,f,p),b=!0},p(_,p){var O,x;(!b||p&1)&&t!==(t=((O=_[0])==null?void 0:O.post_title)+"")&&K(l,t),(!b||p&1)&&u!==(u=((x=_[0])==null?void 0:x.intro_text)+"")&&(s.innerHTML=u);const C={};p&1&&(C.d3module=_[0].primary_key),p&1&&(C.url=`https://github.com/d3/${_[0].primary_key}`),i.$set(C);const j={};if(p&1&&(j.points=_[0].components),c.$set(j),p&64){w=_[6];let y;for(y=0;y<w.length;y+=1){const ee=ne(_,w,y);m[y]?(m[y].p(ee,p),$(m[y],1)):(m[y]=oe(ee),m[y].c(),$(m[y],1),m[y].m(f.parentNode,f))}for(Q(),y=w.length;y<m.length;y+=1)J(y);z()}},i(_){if(!b){$(i.$$.fragment,_),$(c.$$.fragment,_);for(let p=0;p<w.length;p+=1)$(m[p]);b=!0}},o(_){D(i.$$.fragment,_),D(c.$$.fragment,_),m=m.filter(Boolean);for(let p=0;p<m.length;p+=1)D(m[p]);b=!1},d(_){_&&d(e),N(i),N(c),_&&d(g),ie(m,_),_&&d(f)}}}function ae(n){let e,r;return e=new be({props:{posts:n[1],showMax:3,pathRoute:"/d3/api/"}}),{c(){M(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){V(e,t,l),r=!0},p(t,l){const a={};l&2&&(a.posts=t[1]),e.$set(a)},i(t){r||($(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){N(e,t)}}}function Te(n){let e,r,t,l,a,s;e=new ge({props:{metadata:n[2]}});const u=[Be,Pe],h=[];function i(o,c){return o[5]||!o[0].published?0:1}return l=i(n),a=h[l]=u[l](n),{c(){M(e.$$.fragment),r=L(),t=S("div"),a.c(),this.h()},l(o){F(e.$$.fragment,o),r=T(o),t=H(o,"DIV",{class:!0});var c=P(t);a.l(c),c.forEach(d),this.h()},h(){B(t,"class","wrapper svelte-dbhb1r")},m(o,c){V(e,o,c),k(o,r,c),k(o,t,c),h[l].m(t,null),s=!0},p(o,[c]){const g={};c&4&&(g.metadata=o[2]),e.$set(g);let f=l;l=i(o),l===f?h[l].p(o,c):(Q(),D(h[f],1,1,()=>{h[f]=null}),z(),a=h[l],a?a.p(o,c):(a=h[l]=u[l](o),a.c()),$(a,1),a.m(t,null))},i(o){s||($(e.$$.fragment,o),$(a),s=!0)},o(o){D(e.$$.fragment,o),D(a),s=!1},d(o){N(e,o),o&&d(r),o&&d(t),h[l].d()}}}async function qe(n){let e=n.url.pathname;const r=e.split("/").pop(),t=le.find(s=>s.primary_key==r);let l={t:`${t==null?void 0:t.post_title} | VisualSvelte`,d:"Tell visual stories on the internet with Svelte and other technologies.",u:e,tags:t.keywords.join()};return{props:{filteredData:le.filter(s=>s.published).map(s=>({id:s.primary_key,thumbnail:s.thumbnail,title:s.post_title,keywords:s.keywords})),content:t,metadata:l}}}function Ce(n,e,r){let t,l,a;te(n,A,m=>r(10,l=m)),te(n,ve,m=>r(7,a=m));let{content:s}=e,{filteredData:u}=e,{metadata:h}=e,i=0,o=s==null?void 0:s.components.map(m=>({id:m.id,title:m.title,bool:!1}));o==null||o.unshift({id:"intro",title:"Intro",bool:!0}),s&&s.published&&q(A,l=o,l),ce(()=>{q(A,l=[],l)});let c=!1,g=0,f=0;function b(m){try{m!=null&&(q(A,l[f].bool=!1,l),q(A,l[m].bool=!0,l),f=m)}catch(J){r(5,c=!0),console.error(J)}}function w(m){g=m,r(3,g)}return n.$$set=m=>{"content"in m&&r(0,s=m.content),"filteredData"in m&&r(1,u=m.filteredData),"metadata"in m&&r(2,h=m.metadata)},n.$$.update=()=>{n.$$.dirty&144&&(a.url,r(4,i+=1)),n.$$.dirty&1&&r(6,t=s==null?void 0:s.components),n.$$.dirty&8&&b(g)},[s,u,h,g,i,c,t,a,w]}class Ke extends W{constructor(e){super();Y(this,e,Ce,Te,R,{content:0,filteredData:1,metadata:2})}}export{Ke as default,qe as load};
