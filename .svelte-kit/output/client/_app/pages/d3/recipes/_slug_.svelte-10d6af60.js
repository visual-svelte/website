import{S as j,i as q,s as v,w as u,k as y,x as g,m as w,y as c,g as k,o as $,p as B,q as _,B as d,d as h,n as N}from"../../../chunks/vendor-d206b978.js";import{d as T}from"../../../chunks/cms-1e4ab6e8.js";import{d as U}from"../../../chunks/cms-d3-recipes-8813b8cd.js";import{S as z,T as A}from"../../../chunks/Thanks-39eb757f.js";import{M as H}from"../../../chunks/Meta-0018d2cc.js";import"../../../chunks/CodeVisual-d80e1839.js";import"../../../chunks/ActionButton.svelte_svelte_type_style_lang-19892f2a.js";import"../../../chunks/singletons-d1fb5791.js";import"../../../chunks/ScrollyWrapper-bc75649c.js";import"../../../chunks/PostGallery-4a55e428.js";import"../../../chunks/stores-c141cc48.js";import"../../../chunks/Kofi-f8b3c8e9.js";function K(m){let n,o,s,a,e,r,f,i;n=new H({props:{metadata:m[0]}}),s=new z({props:{data:m[2]}});var l=m[2].component;function S(t){return{}}return l&&(e=new l(S())),f=new A({props:{data:m[1]}}),{c(){u(n.$$.fragment),o=y(),u(s.$$.fragment),a=y(),e&&u(e.$$.fragment),r=y(),u(f.$$.fragment)},l(t){g(n.$$.fragment,t),o=w(t),g(s.$$.fragment,t),a=w(t),e&&g(e.$$.fragment,t),r=w(t),g(f.$$.fragment,t)},m(t,p){c(n,t,p),k(t,o,p),c(s,t,p),k(t,a,p),e&&c(e,t,p),k(t,r,p),c(f,t,p),i=!0},p(t,[p]){const D={};p&1&&(D.metadata=t[0]),n.$set(D);const b={};if(p&4&&(b.data=t[2]),s.$set(b),l!==(l=t[2].component)){if(e){N();const M=e;$(M.$$.fragment,1,0,()=>{d(M,1)}),B()}l?(e=new l(S()),u(e.$$.fragment),_(e.$$.fragment,1),c(e,r.parentNode,r)):e=null}const C={};p&2&&(C.data=t[1]),f.$set(C)},i(t){i||(_(n.$$.fragment,t),_(s.$$.fragment,t),e&&_(e.$$.fragment,t),_(f.$$.fragment,t),i=!0)},o(t){$(n.$$.fragment,t),$(s.$$.fragment,t),e&&$(e.$$.fragment,t),$(f.$$.fragment,t),i=!1},d(t){d(n,t),t&&h(o),d(s,t),t&&h(a),e&&d(e,t),t&&h(r),d(f,t)}}}function R(m){return m.split("-").map(s=>{var r;return((r=s.charAt(0))==null?void 0:r.toUpperCase()).concat(s.slice(1))}).join("")}async function Z(m){var f;let n=m.url.pathname;const o=n.split("/").pop();let s=R(o);const a=(f=U)==null?void 0:f.find(i=>i.primary_key==s);let e=T.filter(i=>i.published).map(i=>({id:i.primary_key,thumbnail:i.thumbnail,title:i.post_title,keywords:i.keywords})),r={t:`${a==null?void 0:a.post_title} | VisualSvelte`,d:a==null?void 0:a.intro_text,u:n,tags:a==null?void 0:a.keywords.join()};return{props:{filteredData:e,content:a,metadata:r}}}function V(m,n,o){let{metadata:s}=n,{filteredData:a}=n,{content:e}=n;return m.$$set=r=>{"metadata"in r&&o(0,s=r.metadata),"filteredData"in r&&o(1,a=r.filteredData),"content"in r&&o(2,e=r.content)},[s,a,e]}class x extends j{constructor(n){super();q(this,n,V,K,v,{metadata:0,filteredData:1,content:2})}}export{x as default,Z as load};
